<%- include('../partials/header') %>

<div class="container">
  <div class="row">
    <div class="col-md-12">
      <div class="card mt-4">
        <div class="card-header">
          <h2><i class="fas fa-user-circle"></i> Your Profile</h2>
        </div>
        <div class="card-body">
          <div class="row">
            <div class="col-md-3 text-center">
              <% if (user.avatar) { %>
                <img src="https://cdn.discordapp.com/avatars/<%= user.id %>/<%= user.avatar %>.png?size=256" alt="Avatar" class="img-fluid rounded-circle mb-3" style="max-width: 150px;">
              <% } else { %>
                <div class="default-avatar">
                  <i class="fas fa-user-circle fa-7x text-secondary"></i>
                </div>
              <% } %>
            </div>
            <div class="col-md-9">
              <h3><%= user.username %><% if (user.discriminator !== '0') { %>#<%= user.discriminator %><% } %></h3>
              <p><strong>User ID:</strong> <%= user.id %></p>
              <p><strong>Email:</strong> <%= user.email || 'Not provided' %></p>
              <p><strong>Role:</strong> <span class="badge <%= user.isAdmin ? 'bg-primary' : 'bg-secondary' %>">
                <%= user.isAdmin ? 'Administrator' : 'User' %>
              </span></p>
              
              <% if (user.isAdmin) { %>
                <div class="mt-3">
                  <a href="/admin/dashboard" class="btn btn-primary">
                    <i class="fas fa-tachometer-alt"></i> Go to Admin Dashboard
                  </a>
                </div>
              <% } else { %>
                <div class="alert alert-warning">
                  <i class="fas fa-exclamation-triangle"></i> You do not have administrator privileges.
                </div>
              <% } %>
              
              <div class="mt-3">
                <a href="/auth/logout" class="btn btn-outline-danger">
                  <i class="fas fa-sign-out-alt"></i> Logout
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <div class="card mt-4">
        <div class="card-header">
          <h4><i class="fas fa-shield-alt"></i> Account Security</h4>
        </div>
        <div class="card-body">
          <p>Your account is authenticated via Discord OAuth2. No passwords are stored by SWOOSH Bot.</p>
          <p>Your session will expire after 24 hours of inactivity.</p>
          <p>For security reasons, always remember to log out when finished, especially on shared computers.</p>
        </div>
      </div>
    </div>
  </div>
</div>

<%- include('../partials/footer') %>
