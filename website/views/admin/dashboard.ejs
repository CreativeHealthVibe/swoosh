<!-- Admin Dashboard -->
<div class="container-fluid py-4">
  <div class="row mb-4">
    <div class="col-12">
      <div class="card shadow-sm border-0">
        <div class="card-body p-4">
          <div class="d-flex align-items-center">
            <div>
              <h2 class="mb-0"><i class="fas fa-tachometer-alt me-2"></i> Admin Dashboard</h2>
              <p class="text-muted mb-0">Welcome back, <%= user.username %></p>
            </div>
            <a href="/auth/profile" class="btn btn-outline-secondary ms-auto">
              <i class="fas fa-user me-2"></i> Your Profile
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Quick Stats -->
  <div class="row mb-4">
    <div class="col-lg-3 col-md-6 mb-4 mb-lg-0">
      <div class="card shadow-sm border-0">
        <div class="card-body p-4">
          <div class="d-flex align-items-center">
            <div class="icon-container bg-primary-subtle rounded p-3 me-3">
              <i class="fas fa-server fa-2x text-primary"></i>
            </div>
            <div>
              <h6 class="text-muted mb-1">Servers</h6>
              <h3 class="mb-0"><%= botStats.guilds || 0 %></h3>
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <div class="col-lg-3 col-md-6 mb-4 mb-lg-0">
      <div class="card shadow-sm border-0">
        <div class="card-body p-4">
          <div class="d-flex align-items-center">
            <div class="icon-container bg-success-subtle rounded p-3 me-3">
              <i class="fas fa-users fa-2x text-success"></i>
            </div>
            <div>
              <h6 class="text-muted mb-1">Users</h6>
              <h3 class="mb-0"><%= botStats.users || 0 %></h3>
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <div class="col-lg-3 col-md-6 mb-4 mb-md-0">
      <div class="card shadow-sm border-0">
        <div class="card-body p-4">
          <div class="d-flex align-items-center">
            <div class="icon-container bg-info-subtle rounded p-3 me-3">
              <i class="fas fa-hashtag fa-2x text-info"></i>
            </div>
            <div>
              <h6 class="text-muted mb-1">Channels</h6>
              <h3 class="mb-0"><%= botStats.channels || 0 %></h3>
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <div class="col-lg-3 col-md-6">
      <div class="card shadow-sm border-0">
        <div class="card-body p-4">
          <div class="d-flex align-items-center">
            <div class="icon-container bg-warning-subtle rounded p-3 me-3">
              <i class="fas fa-terminal fa-2x text-warning"></i>
            </div>
            <div>
              <h6 class="text-muted mb-1">Commands</h6>
              <h3 class="mb-0"><%= botStats.commands || 0 %></h3>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <!-- System Status and Quick Actions -->
  <div class="row mb-4">
    <div class="col-lg-8 mb-4 mb-lg-0">
      <div class="card shadow-sm border-0 h-100">
        <div class="card-header bg-light">
          <h5 class="mb-0">System Status</h5>
        </div>
        <div class="card-body">
          <div class="row">
            <div class="col-md-6 mb-4">
              <h6 class="fw-bold">CPU Usage</h6>
              <div class="progress mb-2" style="height: 10px;">
                <div class="progress-bar bg-primary" role="progressbar" style="width: <%= systemStats.cpuUsage %>%;" 
                     aria-valuenow="<%= systemStats.cpuUsage %>" aria-valuemin="0" aria-valuemax="100">
                </div>
              </div>
              <div class="d-flex justify-content-between">
                <small class="text-muted">Current: <%= systemStats.cpuUsage %>%</small>
                <small class="text-muted">Platform: <%= systemStats.platform %> (<%= systemStats.arch %>)</small>
              </div>
            </div>
            
            <div class="col-md-6 mb-4">
              <h6 class="fw-bold">Memory Usage</h6>
              <div class="progress mb-2" style="height: 10px;">
                <div class="progress-bar bg-warning" role="progressbar" style="width: <%= systemStats.memoryUsage.percentage %>%;" 
                     aria-valuenow="<%= systemStats.memoryUsage.percentage %>" aria-valuemin="0" aria-valuemax="100">
                </div>
              </div>
              <div class="d-flex justify-content-between">
                <small class="text-muted">Used: <%= systemStats.memoryUsage.used %> / <%= systemStats.memoryUsage.total %></small>
                <small class="text-muted"><%= systemStats.memoryUsage.percentage %>%</small>
              </div>
            </div>
            
            <div class="col-md-6 mb-4 mb-md-0">
              <h6 class="fw-bold">Uptime</h6>
              <p class="mb-1"><i class="fas fa-clock text-info me-2"></i> <%= systemStats.uptime %></p>
              <small class="text-muted">System has been running since: <%= new Date(Date.now() - (os.uptime() * 1000)).toLocaleString() %></small>
            </div>
            
            <div class="col-md-6">
              <h6 class="fw-bold">Network Status</h6>
              <p class="mb-1">
                <i class="fas fa-wifi text-success me-2"></i> 
                <span class="badge bg-success">Online</span>
                <span class="ms-2">Hostname: <%= systemStats.hostname %></span>
              </p>
              <small class="text-muted">Last checked: <%= new Date().toLocaleString() %></small>
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <div class="col-lg-4">
      <div class="card shadow-sm border-0 h-100">
        <div class="card-header bg-light">
          <h5 class="mb-0">Quick Actions</h5>
        </div>
        <div class="card-body">
          <div class="list-group border-0">
            <a href="/admin/blacklist" class="list-group-item list-group-item-action d-flex align-items-center">
              <div class="icon-container bg-danger-subtle rounded p-2 me-3">
                <i class="fas fa-ban text-danger"></i>
              </div>
              <div>
                <h6 class="mb-0">Manage Blacklist</h6>
                <small class="text-muted">Blacklist users from bot commands</small>
              </div>
            </a>
            
            <a href="/admin/stats" class="list-group-item list-group-item-action d-flex align-items-center">
              <div class="icon-container bg-primary-subtle rounded p-2 me-3">
                <i class="fas fa-chart-bar text-primary"></i>
              </div>
              <div>
                <h6 class="mb-0">Bot Statistics</h6>
                <small class="text-muted">View detailed usage analytics</small>
              </div>
            </a>
            
            <a href="/admin/settings" class="list-group-item list-group-item-action d-flex align-items-center">
              <div class="icon-container bg-dark-subtle rounded p-2 me-3">
                <i class="fas fa-cog text-dark"></i>
              </div>
              <div>
                <h6 class="mb-0">Bot Settings</h6>
                <small class="text-muted">Configure bot functionality</small>
              </div>
            </a>
            
            <a href="/admin/logs" class="list-group-item list-group-item-action d-flex align-items-center">
              <div class="icon-container bg-info-subtle rounded p-2 me-3">
                <i class="fas fa-list-alt text-info"></i>
              </div>
              <div>
                <h6 class="mb-0">Log Viewer</h6>
                <small class="text-muted">Browse system and action logs</small>
              </div>
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Recent Activity and Logs -->
  <div class="row">
    <div class="col-lg-8 mb-4 mb-lg-0">
      <div class="card shadow-sm border-0">
        <div class="card-header bg-light d-flex justify-content-between align-items-center">
          <h5 class="mb-0">Recent Activity</h5>
          <div>
            <select class="form-select form-select-sm" id="activityTypeFilter">
              <option value="all">All Activities</option>
              <option value="command">Commands</option>
              <option value="error">Errors</option>
              <option value="moderation">Moderation</option>
              <option value="login">Logins</option>
            </select>
          </div>
        </div>
        <div class="card-body p-0">
          <div class="table-responsive">
            <table class="table table-hover mb-0">
              <thead class="table-light">
                <tr>
                  <th>Time</th>
                  <th>User</th>
                  <th>Action</th>
                  <th>Status</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td><small class="text-muted"><%= new Date(Date.now() - 120000).toLocaleTimeString() %></small></td>
                  <td>gh_Sman#0001</td>
                  <td>Created new ticket in server SWOOSH Studio</td>
                  <td><span class="badge bg-success">Success</span></td>
                </tr>
                <tr>
                  <td><small class="text-muted"><%= new Date(Date.now() - 300000).toLocaleTimeString() %></small></td>
                  <td>cdn.gov#0001</td>
                  <td>Used command <code>/whos @user</code></td>
                  <td><span class="badge bg-success">Success</span></td>
                </tr>
                <tr>
                  <td><small class="text-muted"><%= new Date(Date.now() - 900000).toLocaleTimeString() %></small></td>
                  <td>fl4ddie#0001</td>
                  <td>Added user to blacklist</td>
                  <td><span class="badge bg-success">Success</span></td>
                </tr>
                <tr>
                  <td><small class="text-muted"><%= new Date(Date.now() - 1800000).toLocaleTimeString() %></small></td>
                  <td>System</td>
                  <td>Encountered Discord API rate limit</td>
                  <td><span class="badge bg-warning">Warning</span></td>
                </tr>
                <tr>
                  <td><small class="text-muted"><%= new Date(Date.now() - 3600000).toLocaleTimeString() %></small></td>
                  <td><%= user.username %>#<%= user.discriminator || '0000' %></td>
                  <td>Logged in to admin dashboard</td>
                  <td><span class="badge bg-success">Success</span></td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
        <div class="card-footer bg-light text-center">
          <a href="/admin/logs" class="text-decoration-none">View All Activity <i class="fas fa-arrow-right ms-1"></i></a>
        </div>
      </div>
    </div>
    
    <div class="col-lg-4">
      <div class="card shadow-sm border-0">
        <div class="card-header bg-light">
          <h5 class="mb-0">Recent Logs</h5>
        </div>
        <div class="card-body p-0">
          <div class="list-group list-group-flush">
            <% if (logFiles && logFiles.length > 0) { %>
              <% logFiles.forEach(function(log) { %>
                <a href="/admin/logs/view/<%= log.name %>" class="list-group-item list-group-item-action">
                  <div class="d-flex w-100 justify-content-between">
                    <h6 class="mb-1"><i class="fas fa-file-alt me-2"></i> <%= log.name %></h6>
                    <small><%= log.size %></small>
                  </div>
                  <small class="text-muted">
                    Last modified: <%= log.modified.toLocaleString() %>
                  </small>
                </a>
              <% }); %>
            <% } else { %>
              <div class="list-group-item">
                <p class="mb-0 text-muted">No log files found</p>
              </div>
            <% } %>
          </div>
        </div>
        <div class="card-footer bg-light text-center">
          <a href="/admin/logs" class="text-decoration-none">View All Logs <i class="fas fa-arrow-right ms-1"></i></a>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
  // Activity type filter functionality
  document.getElementById('activityTypeFilter').addEventListener('change', function() {
    // This would normally filter the activities based on the selected type
    console.log('Filter changed to:', this.value);
    // In a real implementation, this would make an AJAX request or filter the visible rows
  });
</script>
